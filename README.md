# KHALA: Knowledge Hierarchical Adaptive Long-term Agent
The Shared Consciousness Network for Agents

*"From order, comes justice. From memory, comes strength."*

**Version**: 2.1.0
**Documentation**: [docs/](docs/)

Khala is an advanced, memory-centric AI agent architecture that leverages **SurrealDB** and **Agno** native integration, pushing it to the maximum. Or, in Protoss: It is not merely a framework; it is the ultimate unification of machine intelligence. Built upon the crystalline matrix of SurrealDB and the command structures of Agno, it establishes a permanent, psychic link between agents. Through a synthesis of 170 distinct cognitive protocols, it creates a system that does not simply compute â€” it remembers, adapts, and ascends.

**ðŸ’Ž The Psionic Matrix (Features)**
- The Grand Preserver (Hybrid Memory): A trinity of storageâ€”Vector (Semantic), Graph (Associative), and Document (Structured)â€”bound together in the Khaydarin core.
- Void Seeker (Advanced Search): Penetrates the fog of data using Hybrid Search, Multi-hop Graph traversal, and Temporal prophecy.
- Path of Ascension (Cognitive Architecture): Agents engage in Reflection, Planning, Socratic Questioning, and Hypothesis Testing to achieve higher states of reasoning.
- Crystalline Core (SurrealDB Native): Harnesses the raw power of SurrealDB v2.0 (HNSW, Live Queries, Computed Fields) for instant data warp-ins.
- The Conclave (Multi-Agent Coordination): Supports Hierarchical Teams, Debates, and Latent Collaboration. We are distinct, yet we are one.
- Shield Battery (Self-Healing): Automated index repair, decay scoring, and memory consolidation ensure the system endures eternal conflict.

**âš¡ Warp-In Protocol (Installation)**
You must construct additional Pylons before initialization.

```bash
# Clone the repository
git clone https://github.com/yourusername/khala.git
cd khala

# Install dependencies (Editable mode)
pip install -e .

# Verify connection to SurrealDB
python scripts/check_conn.py
```

## ðŸ§ª Testing

```bash
# Run all tests
python scripts/run_all_tests.py
```

## ðŸ“‹ Strategy Implementation Checklist

Based on the latest audit (2025-12-04).

### 1. Core Strategies (Foundation)
- [x] 01. Vector Storage (HNSW)
- [x] 02. Graph Relationships
- [x] 03. Document Model
- [x] 04. RBAC Multi-Tenancy
- [x] 05. LIVE Real-time Subscriptions
- [x] 06. Hybrid Search
- [x] 07. L1/L2/L3 Cache System
- [x] 08. Context Assembly
- [x] 09. 3-Tier Memory Hierarchy
- [x] 10. Auto-Promotion Logic
- [x] 11. Consolidation System
- [x] 12. Deduplication
- [x] 13. Background Job Processing
- [x] 14. Temporal Analysis
- [x] 15. Entity Extraction (NER)
- [x] 16. Metadata & Tags System
- [x] 17. Natural Memory Triggers
- [x] 18. MCP Interface
- [x] 19. Multi-Agent Coordination
- [x] 20. Monitoring & Health Checks
- [x] 21. Decay Scoring
- [x] 22. Agent-to-Agent Communication

### 2. Advanced Strategies (Intelligence)
- [x] 23. LLM Cascading
- [x] 24. Consistency Signals
- [x] 25. Mixture of Thought (MoT)
- [x] 26. Self-Verification Loop
- [x] 27. Multi-Agent Debate
- [x] 28. Information Traceability
- [x] 29. BM25 Full-Text Search
- [x] 30. Query Intent Classification
- [x] 31. Significance Scoring
- [x] 32. Multi-Perspective Questions
- [x] 33. Topic Change Detection
- [x] 34. Cross-Session Pattern Recognition
- [x] 35. Skill Library System
- [x] 36. Instruction Registry
- [x] 37. Emotion-Driven Memory
- [x] 38. Advanced Multi-Index Strategy
- [x] 39. Audit Logging System
- [x] 40. Execution-Based Evaluation
- [x] 41. Bi-temporal Graph Edges
- [x] 42. Hyperedges
- [x] 43. Relationship Inheritance
- [x] 44. Distributed Consolidation
- [x] 45. Modular Component Architecture
- [x] 46. Standard Operating Procedures (SOPs)
- [x] 47. Von Neumann Pattern
- [x] 48. Dynamic Context Window
- [x] 49. Multimodal Support
- [x] 50. Cross-Modal Retrieval
- [x] 51. AST Code Representation
- [x] 52. Multi-Step Planning
- [x] 53. Hierarchical Task Decomposition
- [x] 54. Hypothesis Testing Framework
- [x] 55. Context-Aware Tool Selection
- [x] 56. Graph Visualization
- [x] 57. LLM Cost Dashboard

### 3. SurrealDB Optimization
- [x] 58. Hierarchical Nested Documents
- [x] 59. Polymorphic Memory Documents
- [x] 60. Document Versioning
- [x] 61. Array-Based Accumulation
- [x] 62. Computed Properties
- [x] 63. Conditional Content Fields
- [x] 64. Schema-Flexible Metadata
- [x] 65. Document-Level Transactions
- [x] 66. Hyperedge Emulation
- [x] 67. Temporal Graph (Bi-temporal)
- [x] 68. Weighted Directed Multigraph
- [x] 69. Hierarchical Graph
- [x] 70. Bidirectional Relationship Tracking
- [x] 71. Recursive Graph Patterns
- [x] 72. Agent-Centric Partitioning
- [x] 73. Consensus Graph
- [x] 74. Pattern Discovery
- [x] 75. Temporal Graph Evolution
- [x] 76. Explainability Graph
- [x] 77. Graph-as-Query
- [x] 78. Multi-Vector Representations
- [x] 79. Vector Quantization
- [x] 80. Vector Drift Detection
- [x] 81. Vector Clustering & Centroids
- [x] 82. Adaptive Vector Dimensions
- [x] 83. Vector-Space Anomaly Detection
- [x] 84. Vector Interpolation
- [x] 85. Vector Provenance
- [x] 86. Vector-Based Conflict Resolution
- [x] 87. Vector Search with Filters
- [x] 88. Feedback-Loop Vectors
- [x] 89. Vector Ensemble
- [x] 90. Vector Deduplication
- [x] 91. Vector-Based Forgetting
- [x] 92. Vector Attention
- [x] 93. Phrase Search with Ranking
- [x] 94. Linguistic Analysis
- [x] 95. Multilingual Search
- [x] 96. Typo Tolerance
- [x] 97. Contextual Search
- [x] 98. Faceted Search
- [x] 99. Advanced Text Analytics
- [x] 100. Query Expansion
- [x] 101. Search History Suggestions
- [x] 102. Semantic-FTS Hybrid
- [x] 103. Memory Decay Time-Series
- [x] 104. Agent Activity Timeline
- [x] 105. System Metrics Time-Series
- [x] 106. Consolidation Schedule
- [x] 107. Debate Outcome Trends
- [x] 108. Learning Curve Tracking
- [x] 109. Importance Distribution
- [x] 110. Graph Evolution Metrics
- [x] 111. Geospatial Optimization (111-115)

### 4. Novel & Experimental
- [x] 116. Flows vs Crews Pattern
- [x] 117. Hierarchical Agent Delegation
- [x] 118. Episodic Data Model
- [x] 119. Temporal Edge Invalidation
- [x] 120. Custom Pydantic Entity Types
- [x] 121. Graph Distance Reranking
- [x] 122. Path Lookup Acceleration
- [x] 123. Parallel Search Execution
- [x] 124. Multi-Hop Constraints
- [x] 125. Human-in-the-Loop Checkpoints
- [x] 126. Semaphore Concurrency Limiting
- [x] 127. Structured LLM Output
- [x] 128. AgentTool Wrappers
- [x] 129. Dream-Inspired Consolidation
- [x] 130. Counterfactual Simulation
- [x] 131. Socratic Questioning
- [x] 132. Privacy-Preserving Sanitization
- [x] 133. Surprise-Based Learning
- [x] 134. Curiosity-Driven Exploration
- [x] 135. Metacognitive Indexing
- [x] 136. Source Reliability Scoring
- [x] 137. Conflict Resolution Protocols
- [x] 138. Narrative Threading
- [x] 139. Contextual Bandits
- [x] 140. Temporal Heatmaps
- [x] 141. Keyword Extraction Tagging
- [x] 142. Entity Disambiguation
- [x] 143. Community Detection
- [x] 144. Centrality Analysis
- [x] 145. Pathfinding Algorithms
- [x] 146. Subgraph Isomorphism
- [x] 147. Negative Constraints
- [x] 148. Scoped Memories
- [x] 149. Transient Scratchpads
- [x] 150. Recursive Summarization
- [x] 151. Anchor Point Navigation
- [x] 152. Bias Detection
- [x] 153. Intent-Based Prefetching
- [x] 154. User Modeling
- [x] 155. Dependency Mapping
- [x] 156. Version Control
- [x] 157. Forking Capabilities
- [x] 158. Merge Conflict Resolution
- [x] 159. Self-Healing Index

### 5. Advanced Research Integration
- [x] 160. Automated Prompt Optimization (PromptWizard)
- [x] 161. Homogeneous Reasoning Modules (ARM)
- [x] 162. Knowledge Graph Reasoning (LGKGR)
- [x] 163. Knowledge Injection (GraphToken)
- [x] 164. Latent State Collaboration (LatentMAS)
- [x] 165. Hierarchical RL Teams (FULORA)
- [x] 166. Multi-Agent RL Optimization (MarsRL)
- [x] 167. Network Topology Validation (AgentsNet)
- [x] 168. Meta-Reasoning (Dr. MAMR)
- [x] 169. Reasoning Trace Storage
- [x] 170. Prompt Genealogy Tracking
